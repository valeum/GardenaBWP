/* Source: https://forum.arduino.cc/t/calculate-crc8-checksum-from-byte-array/603959/6 */

byte sendData[] = {0x32, 0x3B, 0x55, 0x3A, 0x30, 0x30, 0x2E, 0x30, 0x30, 0x3B, 0x49, 0x3A, 0x30, 0x30, 0x2E, 0x30, 0x30, 0x3B, 0x54, 0x41, 0x3A, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x3B, 0x45, 0x72, 0x72, 0x3A, 0x30, 0x30, 0x3B, 0x53, 0x4D, 0x4F, 0x3A, 0x30, 0x32, 0x33, 0x3B, 0x42, 0x54, 0x52, 0x3A, 0x30, 0x30, 0x30, 0x6B, 0x30, 0x3B, 0x53, 0x56, 0x4E, 0x3A, 0x30, 0x33, 0x2E, 0x31, 0x30, 0x3B, 0x54, 0x53, 0x3A, 0x30, 0x30, 0x30, 0x2E, 0x30, 0x3B, 0x42, 0x54, 0x3A, 0x30, 0x5F, 0x30, 0x3B, 0x41, 0x49, 0x3A, 0x30, 0x30, 0x30, 0x30, 0x30, 0x32, 0x31, 0x30, 0x30, 0x3B};

void setup() {
  Serial.begin(9600);
}

void loop() {
  byte rtData = calculateCRC(sendData, sizeof(sendData));
  Serial.println(rtData, HEX);
  delay(1000);
}

byte calculateCRC(byte ar[], byte s){
  byte rtn = 0;;
  for(byte i =0; i < s; i++){
    rtn ^= ar[i]; 
  }
  return rtn;
}
